{"version":3,"sources":["context/AppContext.js","hooks/useFinder.js","hooks/useThemeSwitcher.js","components/button/AdvancedButton.jsx","components/button/ThemeButton.jsx","hooks/useInputSearch.js","components/button/SearchButton.jsx","components/input/InputText.jsx","components/LoadingBar.jsx","components/input/AdvancedSearch.jsx","components/input/NormalSearch.jsx","components/SearchBar.jsx","components/book/detail/Cover.jsx","components/book/detail/BookLink.jsx","components/book/detail/BookInfo.jsx","components/book/detail/Description.jsx","components/book/BookDetail.jsx","components/BookPage.jsx","components/NotFound.jsx","components/book/Book.jsx","components/book/BookList.jsx","components/SearchPage.jsx","Router.js","App.js","index.js"],"names":["AppContext","createContext","AppProvider","children","find","useCallback","a","type","query","max_res","volume_id","axios","get","res","response","useState","theme","setTheme","transition","setTransition","useEffect","get_theme","localStorage","getItem","setTimeout","switch_theme","setItem","useThemeSwitcher","books","setBooks","book","setBook","error","setError","value","setValue","loading","setLoading","check_error","status","data","totalItems","update_value","src_params","string","replace","search_books","items","search_one_book","title","Provider","select_book","id","book_filtered","filter","AdvancedButton","advanced_search_event","active","className","onClick","ThemeButton","useContext","useInputSearch","init","input","setInput","setQuery","input_to_google_query","input_obj","name","Object","keys","key","trim","length","map","Boolean","join","input_handler","evt","preventDefault","target","SearchButton","InputText","placeholder","onChange","class_name","target_name","onFocus","onBlur","memo","LoadingBar","bar_style","display","width","height","style","position","left","bottom","AdvancedSearch","submit_search","extend","toggle_extend","toggle_focus","isFocus","advanced","intitle","inauthor","inpublisher","expand","onSubmit","onMouseEnter","onMouseLeave","NormalSearch","SearchBar","history","useHistory","fristSrc","setFristSrc","setIsFocus","setAdvanced","setExtend","push","Thumbnail","thumbnail","is_link","cursor","src","alt","Cover","Authors","authors","author","Author","to","Publisher","publisher","Isbn","isbn","x","i","identifier","PageCount","num","BookDate","date","split","Description","text","max_length","setExpand","boxRef","createRef","useLayoutEffect","textContent","current","slice","ref","state","BookDetail","volume_info","imageLinks","description","printedPageCount","publishedDate","industryIdentifiers","BookPage","match","params","volumeInfo","NotFound","EvilBook","GoodBook","quotes","RandomQuotes","useRef","Math","floor","random","Book","book_id","BookList","book_list","SearchPage","Router","from","exact","path","component","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9e1ad44b.chunk.js","sourcesContent":["import { createContext, useCallback, useEffect, useState } from \"react\";\r\nimport { useFinder } from \"../hooks/useFinder\";\r\nimport { useThemeSwitcher } from \"../hooks/useThemeSwitcher\";\r\n\r\nexport const AppContext = createContext();\r\n\r\nexport const AppProvider = ({ children }) => {\r\n  const { find } = useFinder();\r\n  const { switch_theme, transition, theme } = useThemeSwitcher();\r\n  const [books, setBooks] = useState([]);\r\n  const [book, setBook] = useState(null);\r\n  const [error, setError] = useState(\"\");\r\n  const [value, setValue] = useState(\"\");\r\n  const [loading, setLoading] = useState(\"0\");\r\n\r\n  const check_error = (res) => {\r\n    switch (res.status) {\r\n      case 200:\r\n        if (res.data.totalItems === 0) {\r\n          setLoading(\"100\");\r\n          setError(\"NOT FOUND\");\r\n          return true;\r\n        }\r\n        return false;\r\n      case 404:\r\n        setError(\"404\");\r\n        setLoading(\"100\");\r\n        return true;\r\n      case 500:\r\n        setError(\"500\");\r\n        setLoading(\"100\");\r\n        return true;\r\n      default:\r\n        setError(\"ERROR\");\r\n        setLoading(\"100\");\r\n        return true;\r\n    }\r\n  };\r\n\r\n  const update_value = useCallback((src_params) => {\r\n    let string = src_params.replace(/[+]/g, \" \");\r\n    setValue((value) => (value = string));\r\n  }, []);\r\n\r\n  const search_books = useCallback(\r\n    async ({ query, max_res = 5 }) => {\r\n      setError(\"\");\r\n      setLoading(\"20\");\r\n      const res = await find({\r\n        type: \"SRC_BOOKS\",\r\n        query: query,\r\n        max_res: max_res,\r\n      });\r\n      setLoading(\"60\");\r\n      if (check_error(res)) return setBooks([]); // error\r\n      setBooks((books) => (books = res.data.items));\r\n      update_value(query);\r\n      setLoading(\"100\");\r\n      return true; // => Books founded\r\n    },\r\n    [find, update_value]\r\n  );\r\n\r\n  const search_one_book = useCallback(\r\n    async (volume_id, title = \"\") => {\r\n      setError(\"\");\r\n      setLoading(\"20\");\r\n      const res = await find({\r\n        type: \"SRC_BOOK_ID\",\r\n        volume_id: volume_id,\r\n      });\r\n      setLoading(\"60\");\r\n      if (check_error(res)) return setBook(null); // error\r\n      setBook((book) => (book = res.data));\r\n      update_value(title);\r\n      setLoading(\"100\");\r\n      return true; // => Book founded\r\n    },\r\n    [find, update_value]\r\n  );\r\n\r\n  const select_book = (id) => {\r\n    // books.filter => book\r\n    const book_filtered = books.filter((book) => book.id === id)[0];\r\n    setBook((book) => (book = book_filtered));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (loading === \"100\") {\r\n      setTimeout(() => {\r\n        setLoading(\"0\");\r\n      }, 500);\r\n    }\r\n  }, [loading]);\r\n\r\n  useEffect(() => {}, []);\r\n\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        books,\r\n        book,\r\n        loading,\r\n        search_books,\r\n        search_one_book,\r\n        select_book,\r\n        value,\r\n        setValue,\r\n        update_value,\r\n        error,\r\n        switch_theme,\r\n        transition,\r\n        theme,\r\n      }}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n};\r\n","import axios from \"axios\";\r\nimport { useCallback } from \"react\";\r\n\r\nexport const useFinder = () => {\r\n  const find = useCallback(async ({ type, query, max_res, volume_id }) => {\r\n    let res;\r\n    try {\r\n      switch (type) {\r\n        case \"SRC_BOOKS\":\r\n          return (res = await axios.get(\r\n            `https://www.googleapis.com/books/v1/volumes?q=${query}&maxResults=${max_res}`\r\n          ));\r\n        case \"SRC_BOOK_ID\":\r\n          return (res = await axios.get(\r\n            `https://www.googleapis.com/books/v1/volumes/${volume_id}`\r\n          ));\r\n        default:\r\n          return res;\r\n      }\r\n    } catch (err) {\r\n      return (res = err.response);\r\n    }\r\n  }, []);\r\n\r\n  return { find };\r\n};\r\n","import { useEffect, useState } from \"react\";\r\n\r\nexport const useThemeSwitcher = () => {\r\n  const [theme, setTheme] = useState(\"light_mode\");\r\n  const [transition, setTransition] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const get_theme = localStorage.getItem(\"findbook_theme\");\r\n    if (get_theme === \"light\") {\r\n      setTheme(\"light_mode\");\r\n      setTimeout(() => {\r\n        setTransition(true);\r\n      }, 400);\r\n    }\r\n    if (get_theme === \"dark\") {\r\n      setTheme(\"dark_mode\");\r\n      setTimeout(() => {\r\n        setTransition(true);\r\n      }, 400);\r\n    }\r\n  }, []);\r\n\r\n  const switch_theme = () => {\r\n    setTransition(true);\r\n    if (theme === \"light_mode\") {\r\n      localStorage.setItem(\"findbook_theme\", \"dark\");\r\n      return setTheme(\"dark_mode\");\r\n    }\r\n    if (theme === \"dark_mode\") {\r\n      localStorage.setItem(\"findbook_theme\", \"light\");\r\n      return setTheme(\"light_mode\");\r\n    }\r\n  };\r\n\r\n  return { switch_theme, transition, theme };\r\n};\r\n","import { GrSearchAdvanced } from \"react-icons/gr\";\r\n\r\nconst AdvancedButton = ({ advanced_search_event, active }) => {\r\n  return (\r\n    <div\r\n      className={`advanced_button ${active ? \"active\" : \"\"}`}\r\n      onClick={advanced_search_event}\r\n    >\r\n      <GrSearchAdvanced />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdvancedButton;\r\n","import { useContext } from \"react\";\r\nimport { GoLightBulb } from \"react-icons/go\";\r\nimport { AppContext } from \"../../context/AppContext\";\r\n\r\nconst ThemeButton = () => {\r\n  const { switch_theme, theme } = useContext(AppContext);\r\n\r\n  return (\r\n    <div className={`theme_button ${theme}`} onClick={switch_theme}>\r\n      <GoLightBulb />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ThemeButton;\r\n","import { useCallback, useEffect, useState } from \"react\";\r\n\r\nexport const useInputSearch = (init) => {\r\n  /* init = { name : value, ...  } */\r\n  const [input, setInput] = useState(init);\r\n  const [query, setQuery] = useState(\"\");\r\n\r\n  const input_handler = (evt) => {\r\n    evt.preventDefault();\r\n\r\n    const name = evt.target.name;\r\n    const value = evt.target.value;\r\n    setInput((input) => (input = { ...input, [name]: value }));\r\n  };\r\n\r\n  const input_to_google_query = useCallback(\r\n    (input_obj) => {\r\n      /* input_obj = { input } */\r\n      let name = Object.keys(input_obj);\r\n      let string;\r\n      let value = (key) => {\r\n        return input[key].trim().replace(/ /g, \"+\");\r\n      };\r\n\r\n      if (name.length === 1) {\r\n        // normal search\r\n        string = value(name);\r\n        // string = \"input_value\"\r\n      } else {\r\n        // advanced search\r\n        string = name\r\n          .map((key) => (input[key] !== \"\" ? `${key}:${value(key)}` : \"\"))\r\n          .filter(Boolean)\r\n          .join(\"+\");\r\n        // string = \"target_name:input_value+...\"\r\n      }\r\n      return setQuery((query) => (query = string));\r\n    },\r\n    [input, setQuery]\r\n  );\r\n\r\n  useEffect(() => {\r\n    input_to_google_query(input);\r\n  }, [input, input_to_google_query]);\r\n\r\n  return { input, setInput, query, input_handler };\r\n};\r\n","import { FiSearch } from \"react-icons/fi\";\r\n\r\nconst SearchButton = () => {\r\n  return (\r\n    <button type=\"submit\" className=\"search_button\">\r\n      <FiSearch />\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default SearchButton;\r\n","import { memo } from \"react\";\r\n\r\nconst InputText = ({\r\n  placeholder,\r\n  onChange,\r\n  value,\r\n  class_name,\r\n  target_name,\r\n  onFocus,\r\n  onBlur,\r\n}) => {\r\n  return (\r\n    <input\r\n      type=\"text\"\r\n      name={target_name}\r\n      className={class_name}\r\n      placeholder={placeholder}\r\n      onChange={onChange}\r\n      value={value}\r\n      onFocus={onFocus}\r\n      onBlur={onBlur}\r\n    />\r\n  );\r\n};\r\n\r\nexport default memo(InputText);\r\n","import { useContext } from \"react\";\r\nimport { AppContext } from \"../context/AppContext\";\r\n\r\nconst LoadingBar = () => {\r\n  const { loading } = useContext(AppContext);\r\n\r\n  const box_style = {\r\n    position: \"absolute\",\r\n    left: \"0\",\r\n    bottom: \"-2px\",\r\n    display: \"flex\",\r\n    width: \"100%\",\r\n    height: \"2px\",\r\n  };\r\n  const bar_style = {\r\n    display: \"flex\",\r\n    width: `${loading}%`,\r\n    height: \"100%\",\r\n    transition: \"width 0.5s\",\r\n  };\r\n\r\n  return (\r\n    <div className=\"loading_bar\" style={box_style}>\r\n      <div className=\"bar\" style={bar_style}></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadingBar;\r\n","import { memo } from \"react\";\r\nimport { useInputSearch } from \"../../hooks/useInputSearch\";\r\nimport SearchButton from \"../button/SearchButton\";\r\nimport InputText from \"./InputText\";\r\nimport LoadingBar from \"../LoadingBar\";\r\n\r\nconst AdvancedSearch = ({\r\n  submit_search,\r\n  extend,\r\n  toggle_extend,\r\n  toggle_focus,\r\n  isFocus,\r\n  advanced,\r\n}) => {\r\n  const { input, query, input_handler } = useInputSearch({\r\n    intitle: \"\",\r\n    inauthor: \"\",\r\n    inpublisher: \"\",\r\n  });\r\n\r\n  const submit_handler = (evt) => {\r\n    evt.preventDefault();\r\n    if (query) return submit_search(query);\r\n  };\r\n\r\n  let expand = extend ? \"expand\" : \"\";\r\n\r\n  return (\r\n    <form\r\n      className={`src_container ${expand} ${advanced} ${isFocus}`}\r\n      onSubmit={submit_handler}\r\n      onMouseEnter={toggle_extend}\r\n      onMouseLeave={toggle_extend}\r\n    >\r\n      <div className=\"grid\">\r\n        <InputText\r\n          target_name=\"intitle\"\r\n          placeholder=\"Titolo\"\r\n          class_name=\"input_title\"\r\n          value={input.intitle}\r\n          onChange={input_handler}\r\n          onFocus={toggle_focus}\r\n          onBlur={toggle_focus}\r\n        />\r\n        <InputText\r\n          target_name=\"inauthor\"\r\n          placeholder=\"Autore\"\r\n          class_name=\"input_author\"\r\n          value={input.inauthor}\r\n          onChange={input_handler}\r\n          onFocus={toggle_focus}\r\n          onBlur={toggle_focus}\r\n        />\r\n        <InputText\r\n          target_name=\"inpublisher\"\r\n          placeholder=\"Editore\"\r\n          class_name=\"input_publisher\"\r\n          value={input.inpublisher}\r\n          onChange={input_handler}\r\n          onFocus={toggle_focus}\r\n          onBlur={toggle_focus}\r\n        />\r\n      </div>\r\n      <SearchButton />\r\n      <LoadingBar />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default memo(AdvancedSearch);\r\n","import { memo, useEffect } from \"react\";\r\nimport { useInputSearch } from \"../../hooks/useInputSearch\";\r\nimport SearchButton from \"../button/SearchButton\";\r\nimport LoadingBar from \"../LoadingBar\";\r\nimport InputText from \"./InputText\";\r\n\r\nconst NormalSearch = ({\r\n  submit_search,\r\n  extend,\r\n  isFocus,\r\n  toggle_extend,\r\n  toggle_focus,\r\n  value,\r\n}) => {\r\n  const { input, setInput, query, input_handler } = useInputSearch({\r\n    query: value,\r\n  });\r\n  const submit_handler = (evt) => {\r\n    evt.preventDefault();\r\n    return submit_search(query, input.query);\r\n  };\r\n  useEffect(() => {\r\n    setInput({ query: value });\r\n  }, [value, setInput]);\r\n\r\n  return (\r\n    <form\r\n      className={`src_container ${extend} ${isFocus}`}\r\n      onSubmit={submit_handler}\r\n      onMouseEnter={toggle_extend}\r\n      onMouseLeave={toggle_extend}\r\n    >\r\n      <InputText\r\n        target_name=\"query\"\r\n        placeholder=\"FindBook...\"\r\n        value={input.query}\r\n        onChange={input_handler}\r\n        onFocus={toggle_focus}\r\n        onBlur={toggle_focus}\r\n      />\r\n      <SearchButton />\r\n      <LoadingBar />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default memo(NormalSearch);\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { AppContext } from \"../context/AppContext\";\r\nimport AdvancedButton from \"./button/AdvancedButton\";\r\nimport ThemeButton from \"./button/ThemeButton\";\r\n\r\n// components\r\nimport AdvancedSearch from \"./input/AdvancedSearch\";\r\nimport NormalSearch from \"./input/NormalSearch\";\r\n\r\nconst SearchBar = () => {\r\n  const history = useHistory();\r\n  const { value, books, book, error, transition } = useContext(AppContext);\r\n  const [fristSrc, setFristSrc] = useState(\"middle\");\r\n  const [isFocus, setIsFocus] = useState(\"\");\r\n  const [advanced, setAdvanced] = useState(\"\");\r\n  const [extend, setExtend] = useState(\"\");\r\n\r\n  const submit_search = async (query) => {\r\n    if (query) {\r\n      setFristSrc(\"\");\r\n      return history.push(`/search/${query}`); // => OK\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (books.length > 0 || book || error) {\r\n      return setFristSrc(\"\");\r\n    }\r\n  }, [books, book, error]);\r\n\r\n  // style function\r\n\r\n  const toggle_focus = () => {\r\n    if (isFocus) return setIsFocus(\"\");\r\n    return setIsFocus(\"focus\");\r\n  };\r\n\r\n  const toggle_extend = () => {\r\n    if (extend) return setExtend(\"\");\r\n    return setExtend(\"extend\");\r\n  };\r\n\r\n  const toggle_advanced_search = () => {\r\n    if (advanced) return setAdvanced(\"\");\r\n    return setAdvanced(\"advanced\");\r\n  };\r\n\r\n  const style = {\r\n    transition: transition ? \"0.4s\" : \"none\",\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed_container\">\r\n      <div className=\"margin\" style={style}></div>\r\n      <div className={`search_bar_container ${fristSrc}`}>\r\n        {advanced ? (\r\n          <AdvancedSearch\r\n            submit_search={submit_search}\r\n            extend={extend}\r\n            isFocus={isFocus}\r\n            toggle_extend={toggle_extend}\r\n            toggle_focus={toggle_focus}\r\n            advanced={advanced}\r\n          />\r\n        ) : (\r\n          <NormalSearch\r\n            submit_search={submit_search}\r\n            extend={extend}\r\n            isFocus={isFocus}\r\n            toggle_extend={toggle_extend}\r\n            toggle_focus={toggle_focus}\r\n            value={value}\r\n          />\r\n        )}\r\n        <div className={`button_container ${extend ? \"hidden\" : \"\"}`}>\r\n          <AdvancedButton\r\n            advanced_search_event={toggle_advanced_search}\r\n            active={advanced}\r\n          />\r\n          <ThemeButton />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n","import { useHistory } from \"react-router-dom\";\r\n\r\nexport const Thumbnail = ({ thumbnail, id, title, is_link }) => {\r\n  const history = useHistory();\r\n  const select_event = () => {\r\n    if (is_link) {\r\n      let string = title.replace(/ /g, \"+\");\r\n      return history.push(`/book/${id}${title ? \"/\" + string : \"\"}`);\r\n    }\r\n  };\r\n\r\n  const style = {\r\n    cursor: is_link ? \"pointer\" : \"default\",\r\n  };\r\n\r\n  return (\r\n    <div onClick={select_event} className=\"cover\" style={style}>\r\n      <img src={thumbnail} alt=\"book_cover\" />\r\n    </div>\r\n  );\r\n};\r\n\r\n// cover miss\r\n\r\nexport const Cover = ({ title, is_link, id }) => {\r\n  const history = useHistory();\r\n  const select_event = () => {\r\n    if (is_link) {\r\n      let string = title.replace(/ /g, \"+\");\r\n      return history.push(`/book/${id}${title ? \"/\" + string : \"\"}`);\r\n    }\r\n  };\r\n  const style = {\r\n    cursor: is_link ? \"pointer\" : \"default\",\r\n  };\r\n\r\n  return (\r\n    <div onClick={select_event} className=\"cover cover_miss\" style={style}>\r\n      <span>Immagine non disponibile</span>\r\n    </div>\r\n  );\r\n};\r\n","import { Link } from \"react-router-dom\";\r\n\r\nexport const Authors = ({ authors }) => {\r\n  return (\r\n    <div className=\"authors\">\r\n      {authors.map((author) => (\r\n        <Author key={author} author={author} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Author = ({ author }) => {\r\n  let string = author.replace(/ /g, \"+\");\r\n  return (\r\n    <Link className=\"link\" to={`/search/inauthor:${string}`}>\r\n      {author}\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport const Publisher = ({ publisher }) => {\r\n  let string = publisher.replace(/ /g, \"+\");\r\n  return (\r\n    <div className=\"publisher\">\r\n      <strong>{`Editore:`}</strong>\r\n      <Link className=\"link\" to={`/search/inpublisher:${string}`}>\r\n        {publisher}\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n","export const Isbn = ({ isbn }) => {\r\n  return (\r\n    <div className=\"ISBN_container\">\r\n      <strong>{\"ISBN:\"}</strong>\r\n      {isbn.type !== \"OTHER\" &&\r\n        isbn.map((x, i) => [\r\n          i > 0 && \", \",\r\n          <span key={x.identifier}>{x.identifier}</span>,\r\n        ])}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const PageCount = ({ num }) => {\r\n  return (\r\n    <div className=\"page_count\">\r\n      <strong>{\"Numero di pagine:\"}</strong>\r\n      <span>{num}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const BookDate = ({ date }) => {\r\n  return (\r\n    <div className=\"book_date\">\r\n      <strong>{\"Pubblicazione:\"}</strong>\r\n      <span>{date.split(\"-\")[0]}</span>\r\n    </div>\r\n  );\r\n};\r\n","import { createRef, memo, useLayoutEffect, useState } from \"react\";\r\n\r\nconst Description = ({ text, max_length }) => {\r\n  const [expand, setExpand] = useState(false);\r\n  const boxRef = createRef(null);\r\n\r\n  const toggle_expand = () => {\r\n    setExpand((state) => !state);\r\n  };\r\n\r\n  useLayoutEffect(() => {\r\n    let { textContent } = boxRef.current;\r\n    if (boxRef.current.textContent.length > max_length && !expand) {\r\n      boxRef.current.textContent = textContent\r\n        .slice(0, max_length)\r\n        .replace(/<[^>]+>/g, \"\");\r\n    } else {\r\n      boxRef.current.textContent = text.replace(/<[^>]+>/g, \"\");\r\n    }\r\n  }, [boxRef, expand, text, max_length]);\r\n\r\n  return (\r\n    <div className=\"description\">\r\n      <span ref={boxRef}>{text}</span>\r\n      {text.length >= max_length && (\r\n        <span className=\"expand_text\" onClick={toggle_expand}>\r\n          {expand ? \"[Chiudi]\" : \"...Continua\"}\r\n        </span>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(Description);\r\n","import { Cover, Thumbnail } from \"./detail/Cover\";\r\nimport { Authors, Publisher } from \"./detail/BookLink\";\r\nimport { BookDate, Isbn, PageCount } from \"./detail/BookInfo\";\r\nimport Description from \"./detail/Description\";\r\n\r\nconst BookDetail = ({ volume_info }) => {\r\n  const {\r\n    title,\r\n    authors,\r\n    imageLinks,\r\n    description,\r\n    publisher,\r\n    printedPageCount,\r\n    publishedDate,\r\n    industryIdentifiers,\r\n  } = volume_info;\r\n  return (\r\n    <div className=\"book_detail book\">\r\n      <div className=\"head\">\r\n        {title && <strong className=\"title\">{title}</strong>}\r\n        {authors && <Authors authors={authors} />}\r\n      </div>\r\n      <div className=\"book_body\">\r\n        {imageLinks ? (\r\n          <Thumbnail thumbnail={imageLinks.thumbnail} title={title} />\r\n        ) : (\r\n          <Cover title={title} />\r\n        )}\r\n\r\n        <div className=\"book_info\">\r\n          {publisher && <Publisher publisher={publisher} />}\r\n          {industryIdentifiers && <Isbn isbn={industryIdentifiers} />}\r\n          {printedPageCount && <PageCount num={printedPageCount} />}\r\n          {publishedDate && <BookDate date={publishedDate} />}\r\n        </div>\r\n      </div>\r\n      {description && <Description text={description} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookDetail;\r\n","import { memo, useContext, useEffect } from \"react\";\r\nimport { AppContext } from \"../context/AppContext\";\r\nimport BookDetail from \"./book/BookDetail\";\r\n\r\nconst BookPage = ({ match }) => {\r\n  const id = match.params.id;\r\n  const title = match.params.title;\r\n  const { book, search_one_book } = useContext(AppContext);\r\n  useEffect(() => {\r\n    search_one_book(id, title);\r\n  }, [id, title, search_one_book]);\r\n\r\n  return (\r\n    <div className=\"book_page\">\r\n      {book && <BookDetail volume_info={book.volumeInfo} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(BookPage);\r\n","import { useContext, useEffect, useRef } from \"react\";\r\nimport { GiEvilBook, GiWhiteBook } from \"react-icons/gi\";\r\nimport { AppContext } from \"../context/AppContext\";\r\n\r\nconst NotFound = () => {\r\n  const { theme } = useContext(AppContext);\r\n  return theme === \"light_mode\" ? <GoodBook /> : <EvilBook />;\r\n};\r\n\r\nexport default NotFound;\r\n\r\nconst EvilBook = () => {\r\n  return (\r\n    <div className=\"not_found\">\r\n      <strong>404 RUUN!</strong>\r\n      <GiEvilBook className=\"evil_book\" />\r\n      <RandomQuotes />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst GoodBook = () => {\r\n  return (\r\n    <div className=\"not_found\">\r\n      <strong>404 OOPS!</strong>\r\n      <GiWhiteBook className=\"good_book\" />\r\n      <span className=\"random_quotes\">{\"Nessun risultato\"}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst quotes = [\r\n  \"HaHaHaHa\",\r\n  \"Qui non c'é niente...\",\r\n  \"Ti sei perso?\",\r\n  \"Khandar Estrada khandos thrus...\",\r\n  \"Mi hai trovato!\",\r\n];\r\n\r\nconst RandomQuotes = () => {\r\n  let num = useRef(0);\r\n  useEffect(() => {\r\n    num.current = Math.floor(Math.random() * 5);\r\n  }, [num]);\r\n\r\n  return (\r\n    <span className=\"random_quotes\">{'\"' + quotes[num.current] + '\"'}</span>\r\n  );\r\n};\r\n","import { Authors } from \"./detail/BookLink\";\r\nimport { Cover, Thumbnail } from \"./detail/Cover\";\r\nimport Description from \"./detail/Description\";\r\n\r\nconst Book = ({ volume_info, book_id }) => {\r\n  const { title, authors, imageLinks, description } = volume_info;\r\n  return (\r\n    <div className=\"book\">\r\n      {title && <strong className=\"title\">{title}</strong>}\r\n      <div className=\"book_body\">\r\n        {imageLinks ? (\r\n          <Thumbnail\r\n            thumbnail={imageLinks.thumbnail}\r\n            id={book_id}\r\n            title={title}\r\n            is_link={true}\r\n          />\r\n        ) : (\r\n          <Cover id={book_id} title={title} is_link={true} />\r\n        )}\r\n        <div className=\"book_info\">\r\n          {authors && <Authors authors={authors} />}\r\n          {description && <Description text={description} max_length={250} />}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Book;\r\n","import { memo } from \"react\";\r\n\r\nimport Book from \"./Book\";\r\n\r\nconst BookList = ({ book_list }) => {\r\n  return (\r\n    <div className=\"book_list\">\r\n      {book_list &&\r\n        book_list.map((book) => (\r\n          <Book key={book.id} volume_info={book.volumeInfo} book_id={book.id} />\r\n        ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default memo(BookList);\r\n","import { useContext, useEffect } from \"react\";\r\nimport { AppContext } from \"../context/AppContext\";\r\nimport NotFound from \"./NotFound\";\r\nimport BookList from \"./book/BookList\";\r\n\r\nconst SearchPage = ({ match }) => {\r\n  const src = match.params.src;\r\n  const { books, search_books, error } = useContext(AppContext);\r\n  useEffect(() => {\r\n    search_books({ query: src, max_res: 20 });\r\n  }, [search_books, src]);\r\n\r\n  return (\r\n    <div className=\"search_page\">\r\n      {books.length > 0 && <BookList book_list={books} />}\r\n      {error && <NotFound />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchPage;\r\n","import { HashRouter, Switch, Route, Redirect } from \"react-router-dom\";\r\nimport SearchBar from \"./components/SearchBar\";\r\nimport BookPage from \"./components/BookPage\";\r\nimport SearchPage from \"./components/SearchPage\";\r\nimport { AppContext } from \"./context/AppContext\";\r\nimport { useContext } from \"react\";\r\n\r\nconst Router = () => {\r\n  const { theme, transition } = useContext(AppContext);\r\n  const style = {\r\n    transition: transition ? \"0.4s\" : \"none\",\r\n  };\r\n  return (\r\n    <HashRouter>\r\n      <div className={`layout ${theme}`} style={style}>\r\n        <div className=\"pages\">\r\n          <SearchBar />\r\n          <Switch>\r\n            <Redirect from=\"/search/\" to=\"/\" exact />\r\n            <Route path={\"/search/:src\"} component={SearchPage} />\r\n            <Redirect from=\"/book/\" to=\"/\" exact />\r\n            <Route path={\"/book/:id/:title\"} component={BookPage} />\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    </HashRouter>\r\n  );\r\n};\r\n\r\nexport default Router;\r\n","import { AppProvider } from \"./context/AppContext\";\nimport Router from \"./Router\";\nimport \"./style/layout.scss\";\nimport \"./style/search_bar.scss\";\nimport \"./style/book.scss\";\nimport \"./style/media_query.scss\";\n\nfunction App() {\n  return (\n    <AppProvider>\n      <Router />\n    </AppProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}